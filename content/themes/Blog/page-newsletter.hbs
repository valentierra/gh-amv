{{!< default}}

{{!-- Everything inside the #post tags pulls data from the post --}}
{{#post}}

{{!-- The big featured header, it uses blog cover image as a BG if available --}}
<header class="site-header outer {{#if feature_image}}" style="background-image: url({{feature_image}}){{else}}no-cover{{/if}}">
    <div class="inner">
        <div class="site-header-content">
            <h1 class="newsletter-title">{{title}}</h1>
            <p class="newsletter-description">{{excerpt}}</p>
        </div>
    </div>
</header>

<main id="site-main" class="site-main outer">
    <div class="inner">
        {{content}}
    </div>
</main>

{{/post}}

{{!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs --}}
{{#contentFor "scripts"}}
<script>
// Parse the URL parameter
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}
// Give the parameter a variable name
var dynamicContent = getParameterByName('s');

 $(document).ready(function() {

	// Check if the URL parameter is apples
	if (dynamicContent == 'true') {
		$('body').addClass("successfully-subscribed");
	} else if (dynamicContent == 'confirmed') {
		$('body').addClass("successfully-confirmed");
	}
});
</script>
{{/contentFor}}
